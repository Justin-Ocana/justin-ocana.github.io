// Translations for Portfolio
const translations = {
    en: {
        // Navigation
        'nav.about': 'About',
        'nav.projects': 'Projects',
        'nav.experience': 'Experience',
        'nav.contact': 'Contact',
        
        // Hero
        'hero.available': 'Available for opportunities',
        'hero.title': 'Solving real problems\nI design systems\nbefore I write code',
        'hero.description': '16-year-old Backend Developer from Ecuador focused on logic, architecture and real-world systems. I build structured solutions with Python, Django and modern tools.',
        'hero.yearsLearning': 'Years Learning',
        'hero.realSystems': 'Real Systems',
        'hero.architectureFocus': 'Architecture Focus',
        'hero.viewWork': 'View Work',
        'hero.getInTouch': 'Get in Touch',
        
        // About
        'about.label': 'About',
        'about.title': 'Background & Approach',
        'about.intro': 'I approach software as a system, not just code.',
        'about.p1': 'At 16, based in Milagro, Ecuador, I\'ve spent the last two years building structured backend systems using Python and Django. I focus on designing database models, defining business logic, and structuring permissions before writing implementation code.',
        'about.p2': 'I use AI as a productivity assistant—not as a replacement for thinking. I define the architecture, the constraints, and the decisions behind every system I build.',
        'about.p3': 'I\'m constantly refining my skills, improving code quality, and learning how to build scalable and maintainable applications.',
        'about.p4': 'For me, every project is a design challenge: Understand the problem → Model the system → Build with purpose.',
        'about.principles': 'Core Principles',
        'about.principle1': 'Design before implementation',
        'about.principle2': 'Structure logic clearly',
        'about.principle3': 'Keep systems maintainable',
        'about.principle4': 'Use AI strategically, not blindly',
        'about.principle5': 'Build solutions that scale',
        
        // Tech Stack
        'tech.title': 'Technical Stack',
        'tech.backend': 'Backend Development',
        'tech.backend.desc': 'Python, Django, Django REST Framework',
        'tech.databases': 'Database Design',
        'tech.databases.desc': 'PostgreSQL, Relational Modeling, Query Optimization',
        'tech.concepts': 'System Concepts',
        'tech.concepts.desc': 'Authentication & Authorization, CRUD Architecture, REST APIs, MVC Pattern',
        'tech.tools': 'Tools',
        'tech.tools.desc': 'Git, Linux, Docker, VS Code',
        
        // Projects
        'projects.label': 'Product Engineering Experience',
        'projects.subtitle': 'Independent SaaS Systems • 2024 – Present',
        'projects.viewProject': 'View Project',
        'projects.status.completed': 'Completed',
        'projects.status.progress': 'In Development',
        'projects.agenda.title': 'Agenda Virtual EIWA',
        'projects.agenda.meta': 'Production • Active Users',
        'projects.agenda.desc': 'Digital version of EIWA\'s physical agenda with real-time collaboration and smart notifications.',
        'projects.southernpos.title': 'SouthernPOS',
        'projects.southernpos.meta': 'MVP+ Stage • Financial System',
        'projects.southernpos.desc': 'Cloud-based POS system with multi-tenant architecture for restaurants and retail businesses.',
        'projects.plugsite.title': 'Plugsite',
        'projects.plugsite.meta': '87% Complete • Multi-Tenant SaaS',
        'projects.plugsite.desc': 'Multi-tenant SaaS platform for Minecraft server stores with PayPal integration and withdrawal system.',
        
        // Experience
        'experience.label': 'Experience',
        'experience.title': 'My Journey',
        'experience.subtitle': 'Learning and building since 2023',
        
        // Contact
        'contact.label': 'Contact',
        'contact.title': 'Let\'s Work Together',
        'contact.intro': 'Currently open to internships and exciting projects. If you\'re building something that could make a difference, I\'d love to be part of it.',
        'contact.available': 'Currently available for new projects',
        
        // Footer
        'footer.rights': 'All rights reserved',
        'footer.built': 'Built with dedication and attention to detail'
    },
    es: {
        // Navigation
        'nav.about': 'Sobre Mí',
        'nav.projects': 'Proyectos',
        'nav.experience': 'Experiencia',
        'nav.contact': 'Contacto',
        
        // Hero
        'hero.available': 'Disponible para oportunidades',
        'hero.title': 'Resuelvo problemas\nDiseño sistemas',
        'hero.description': 'Desarrollador Backend de 16 años de Ecuador enfocado en lógica, arquitectura y sistemas del mundo real. Construyo soluciones estructuradas con Python, Django y herramientas modernas.',
        'hero.yearsLearning': 'Años Aprendiendo',
        'hero.realSystems': 'Sistemas Reales',
        'hero.architectureFocus': 'Enfoque en Arquitectura',
        'hero.viewWork': 'Ver Trabajo',
        'hero.getInTouch': 'Contactar',
        
        // About
        'about.label': 'Sobre Mí',
        'about.title': 'Contexto y Enfoque',
        'about.intro': 'Abordo el software como un sistema, no solo código.',
        'about.p1': 'A los 16 años, desde Milagro, Ecuador, he pasado los últimos dos años construyendo sistemas backend estructurados usando Python y Django. Me enfoco en diseñar modelos de base de datos, definir lógica de negocio y estructurar permisos antes de escribir código de implementación.',
        'about.p2': 'Uso IA como asistente de productividad—no como reemplazo del pensamiento. Defino la arquitectura, las restricciones y las decisiones detrás de cada sistema que construyo.',
        'about.p3': 'Estoy constantemente refinando mis habilidades, mejorando la calidad del código y aprendiendo cómo construir aplicaciones escalables y mantenibles.',
        'about.p4': 'Para mí, cada proyecto es un desafío de diseño: Entender el problema → Modelar el sistema → Construir con propósito.',
        'about.principles': 'Principios Fundamentales',
        'about.principle1': 'Diseñar antes de implementar',
        'about.principle2': 'Estructurar la lógica claramente',
        'about.principle3': 'Mantener sistemas mantenibles',
        'about.principle4': 'Usar IA estratégicamente, no ciegamente',
        'about.principle5': 'Construir soluciones que escalen',
        
        // Tech Stack
        'tech.title': 'Stack Técnico',
        'tech.backend': 'Desarrollo Backend',
        'tech.backend.desc': 'Python, Django, Django REST Framework',
        'tech.databases': 'Diseño de Bases de Datos',
        'tech.databases.desc': 'PostgreSQL, Modelado Relacional, Optimización de Consultas',
        'tech.concepts': 'Conceptos de Sistemas',
        'tech.concepts.desc': 'Autenticación y Autorización, Arquitectura CRUD, APIs REST, Patrón MVC',
        'tech.tools': 'Herramientas',
        'tech.tools.desc': 'Git, Linux, Docker, VS Code',
        
        // Projects
        'projects.label': 'Experiencia en Ingeniería de Producto',
        'projects.subtitle': 'Sistemas SaaS Independientes • 2024 – Presente',
        'projects.viewProject': 'Ver Proyecto',
        'projects.status.completed': 'Completado',
        'projects.status.progress': 'En Desarrollo',
        'projects.agenda.title': 'Agenda Virtual EIWA',
        'projects.agenda.meta': 'Producción • Usuarios Activos',
        'projects.agenda.desc': 'Versión digital de la agenda física de EIWA con colaboración en tiempo real y notificaciones inteligentes.',
        'projects.southernpos.title': 'SouthernPOS',
        'projects.southernpos.meta': 'Etapa MVP+ • Sistema Financiero',
        'projects.southernpos.desc': 'Sistema POS en la nube con arquitectura multi-tenant para restaurantes y negocios minoristas.',
        'projects.plugsite.title': 'Plugsite',
        'projects.plugsite.meta': '87% Completo • SaaS Multi-Tenant',
        'projects.plugsite.desc': 'Plataforma SaaS multi-tenant para tiendas de servidores Minecraft con integración de PayPal y sistema de retiros.',
        
        // Experience
        'experience.label': 'Experiencia',
        'experience.title': 'Mi Trayectoria',
        'experience.subtitle': 'Aprendiendo y construyendo desde 2023',
        
        // Contact
        'contact.label': 'Contacto',
        'contact.title': 'Trabajemos Juntos',
        'contact.intro': 'Actualmente abierto a pasantías y proyectos emocionantes. Si estás construyendo algo que pueda hacer la diferencia, me encantaría ser parte de ello.',
        'contact.available': 'Actualmente disponible para nuevos proyectos',
        
        // Footer
        'footer.rights': 'Todos los derechos reservados',
        'footer.built': 'Construido con dedicación y atención al detalle'
    }
};

// Language Manager
class LanguageManager {
    constructor() {
        this.currentLang = localStorage.getItem('language') || 'en';
        this.init();
    }
    
    init() {
        // Set initial language
        this.setLanguage(this.currentLang, false);
        
        // Setup event listeners
        const languageToggle = document.getElementById('languageToggle');
        const languageDropdown = document.getElementById('languageDropdown');
        const languageOptions = document.querySelectorAll('.language-option');
        
        // Toggle dropdown
        languageToggle?.addEventListener('click', (e) => {
            e.stopPropagation();
            languageDropdown.classList.toggle('active');
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', () => {
            languageDropdown?.classList.remove('active');
        });
        
        // Language selection
        languageOptions.forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();
                const lang = option.dataset.lang;
                this.setLanguage(lang);
                languageDropdown.classList.remove('active');
            });
        });
        
        // Update active state
        this.updateActiveOption();
    }
    
    setLanguage(lang, save = true) {
        this.currentLang = lang;
        
        if (save) {
            localStorage.setItem('language', lang);
        }
        
        // Update UI
        this.translatePage();
        this.updateLanguageDisplay();
        this.updateActiveOption();
    }
    
    translatePage() {
        const elements = document.querySelectorAll('[data-i18n]');
        
        elements.forEach(element => {
            const key = element.dataset.i18n;
            const translation = translations[this.currentLang][key];
            
            if (translation) {
                element.textContent = translation;
            }
        });
    }
    
    updateLanguageDisplay() {
        const currentLangElement = document.getElementById('currentLang');
        if (currentLangElement) {
            currentLangElement.textContent = this.currentLang.toUpperCase();
        }
    }
    
    updateActiveOption() {
        const options = document.querySelectorAll('.language-option');
        options.forEach(option => {
            if (option.dataset.lang === this.currentLang) {
                option.classList.add('active');
            } else {
                option.classList.remove('active');
            }
        });
    }
}

// Initialize when DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => {
        new LanguageManager();
    });
} else {
    new LanguageManager();
}
